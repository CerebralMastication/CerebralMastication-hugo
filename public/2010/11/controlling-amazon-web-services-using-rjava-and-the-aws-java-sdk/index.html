<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.51" />


<title>Controlling Amazon Web Services using rJava and the AWS Java SDK - A Hugo website</title>
<meta property="og:title" content="Controlling Amazon Web Services using rJava and the AWS Java SDK - A Hugo website">



  







<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/cerebralmastication/">GitHub</a></li>
    
    <li><a href="https://twitter.com/CMastication">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">2 min read</span>
    

    <h1 class="article-title">Controlling Amazon Web Services using rJava and the AWS Java SDK</h1>

    
    <span class="article-date">2010/11/30</span>
    

    <div class="article-content">
      <p><img src="http://awsmedia.s3.amazonaws.com/logo_aws.gif" alt="" />
I&rsquo;ve been messing around with using Amazon Web Services for a while. I&rsquo;ve had some projects where I wanted to upload files to S3 or fire off EMR jobs. I&rsquo;ve been controlling AWS services using a hodgepodge of command line tools and the R system() function to call the tools from the command line. This has some real disadvantages, however. Using the command line tools means each tool has to be configured individually which is painful on a new machine. It&rsquo;s also much harder to roll my R code up into a CRAN package because I have to check dependencies on the command line tools and ensure that the user has properly configured each tool. Clearly a pain in the ass.</p>

<p>So I was looking for more simple/elegant solutions. After thinking the <a href="http://code.google.com/p/boto/">Boto</a> library for Python might be helpful, I realized that the easiest way to use that would be with <a href="http://rjython.r-forge.r-project.org/">rJython</a> which meant having to interact with R, Python, AND Java. Considering I don&rsquo;t program in Python or Java, that seemed like a fair bit of complexity. Then I realized that the canonical implementation of the AWS API was the AWS Java SDK. The <a href="http://www.rforge.net/rJava/">rJava</a> package makes interacting with Java from R a viable option.</p>

<p>Since I&rsquo;ve never written a single line of Java code in my pathetic life, this was somewhat harder than it could have been. But with some help from <a href="http://romainfrancois.blog.free.fr/">Romain Francois</a> I was able to cobble together &ldquo;something that works.&rdquo; The code below gives a simple example of interfacing with S3. The example will look to see if a given bucket exists on S3, if not it will create the bucket. Then it will upload a single file from your PC into that bucket. You will have to <a href="http://aws.amazon.com/sdkforjava/">download the SDK</a>, unzip it in the location of your choice, and then change the script to reflect your configuration.</p>

<p>If you are running R in Ubuntu, you should install rJava using apt-get instead of using install.packages() from inside of R:</p>

<blockquote>sudo apt-get install r-cran-rjava</blockquote>

<p>Here&rsquo;s the codez. And a <a href="https://gist.github.com/722230">direct link</a> for you guys reading this through an RSS reader:
[gist id=&ldquo;722230&rdquo;]</p>

<p>I realize that Duncan Temple Lang has created the <a href="http://www.omegahat.org/RAmazonS3/">RAmazonS3</a> package which can easily do what the above code sample does. The advantage of using rJava and the AWS Java SDK is the ability to apply the same approach to <strong>ALL</strong> the AWS services. And since Amazon maintains the SDK this guarantees that future AWS services and features will be supported as well.</p>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//cerebralmastication.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-129487349-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

